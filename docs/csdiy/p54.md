---
title: CS106L / assignment1笔记
date: 2026.2.17
comments: true
---

# CS106L / assignment1笔记

## Streams

**流（stream）= 把数据当成一串字符/字节，从某个源头读进来或写出去。**

- **`std::cin`**：从键盘读
- **`std::cout`**：往屏幕写
- **`std::cerr`**：往屏幕写错误信息（不缓冲，调试更可靠）
- **`std::ifstream`**：从文件读
- **`std::ofstream`**：写到文件

如：

### 按行读

```c++
#include <fstream>
#include <iostream>
#include <string>

int main() {
    std::ifstream in("input.txt");
    if (!in) {                         // 打开失败
        std::cerr << "Cannot open file\n";
        return 1;
    }

    std::string line;
    while (std::getline(in, line)) {   // 每次读一整行（不含换行）
        std::cout << "LINE: " << line << "\n";
    }
}

```

- `std::ifstream in("input.txt");` 打开文件

- `if (!in)` 判断是否打开成功（**作业里经常要求做错误处理**）

- `std::getline(in, line)` 读取一行；读不到就返回 false，循环结束

### 按空分隔读

```c++
std::ifstream in("words.txt");
std::string word;
while (in >> word) {   // 以空格/换行/tab 为分隔读 token
    std::cout << word << "\n";
}

```

- `in >> word` 会自动跳过空白
- 读到 EOF 自动结束
- **读不到“带空格的一整行”**，所以需要整行就用 `getline`

### 写入文件

```c++
#include <ofstream>
#include <fstream>
#include <iostream>

int main() {
    std::ofstream out("output.txt");
    if (!out) {
        std::cerr << "Cannot write file\n";
        return 1;
    }

    out << "hello\n";
    out << 123 << " " << 4.56 << "\n";
}
```

- `out << ...` 和 `cout` 一样用法

- 默认新写入的内容会覆盖原文件内容，如果不想覆盖而是追加：

  ```c++
  std::ofstream out("output.txt", std::ios::app);
  ```

----

